(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6899],{1241:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/measure",function(){return n(1669)}])},5731:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(5893);n(7294);var s=n(2492),a=n(5861),i=n(3870);function l(e){let{children:t,open:n,onClose:l,title:c,method:o,maxWidth:u=!1}=e;return(0,r.jsx)(r.Fragment,{children:n&&(0,r.jsxs)(s.Z,{open:n,onClose:l,fullWidth:!0,maxWidth:u,PaperProps:{sx:{p:{xs:2,lg:5}}},children:[(0,r.jsxs)(a.Z,{variant:"h4",mb:2,children:[(0,i.k)((0,i._)(c))," ","create"===o?"creation":"edition"]}),t]})})}},7874:function(e,t,n){"use strict";var r=n(5893),s=n(8868),a=n(9208),i=n.n(a);t.Z=e=>{let{formik:t,name:n,...a}=e,l=i()(t.touched,n),c=i()(t.errors,n),o=i()(t.values,n);return(0,r.jsx)(s.Z,{...a,fullWidth:!0,name:n,value:o,autoComplete:"off",error:!!(l&&c),helperText:l&&c,onBlur:t.handleBlur,onChange:t.handleChange})}},4578:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(5893),s=n(6242),a=n(6447),i=n(7709),l=n(7109),c=n(3219),o=n(3321),u=n(7357),d=n(7906),h=n(3184),x=n(3816),m=n(8102),j=n(9368),f=n(3946),Z=n(295),g=n(3911),p=n(7294),C=n(580),v=n(5941),b=n(5349),k=n(2566),w=n(3557),P=n(670),y=n(9396),_=n(6737),S=n.n(_),G=n(1840),A=(e,t)=>{let{value:n,type:r}=t;return r===Boolean?e[n]?"Yes":"No":e[n]};function E(e){let{title:t="",headers:n=[],setPage:_,setSearch:E,setRowsPerPage:N,selectAll:O,deselectAll:R,selectOne:T,deselectOne:L,openDialog:z,deleteData:V}=e,W=(0,p.useRef)(""),B=(0,G.TL)(),D=(0,G.CG)(e=>e[t].page),F=(0,G.CG)(e=>e[t].selected),M=(0,G.CG)(e=>e[t].search),I=(0,G.CG)(e=>e[t].rowsPerPage),q=(0,G.CG)(e=>e[t].items),U=(0,p.useMemo)(()=>q.filter(e=>n.some(t=>e[t.value].toLowerCase().indexOf(M.toLowerCase())>-1)),[n,q,M]),X=(0,p.useMemo)(()=>(0,v.i)(U,D,I),[U,D,I]),Y=(0,p.useMemo)(()=>U.map(e=>e.id),[U]),H=U.length,J=F.length>0&&F.length<q.length,K=q.length>0&&F.length===q.length,Q=(0,p.useCallback)(e=>{B(N(e.target.value))},[B,N]),$=(0,p.useCallback)((e,t)=>{B(_(t))},[B,_]),ee=(0,p.useCallback)(e=>{B(T(e))},[B,T]),et=(0,p.useCallback)(e=>{B(L(e))},[B,L]),en=(0,p.useCallback)(()=>{B(O(Y))},[B,O,Y]),er=(0,p.useCallback)(()=>{B(R())},[B,R]),es=(0,p.useCallback)(e=>{B(E(e.target.value))},[B,E]),ea=(0,p.useCallback)(()=>{B(z({method:"create"}))},[B,z]),ei=(0,p.useCallback)(e=>()=>{B(z({method:"update",item:e}))},[B,z]),el=(0,p.useCallback)(e=>()=>{S()({title:"Are you sure?",text:"Are you sure that you want to delete this?",icon:"warning",dangerMode:!0}).then(t=>{if(t)return B(V(e));throw""}).catch(e=>{S()("Oops!",e.message,"error")})},[B,V]);return(0,p.useEffect)(function(){let e="";for(let t of q)e+=n.map(e=>{let{value:n}=e;return t[n]}).join(",")+"\r\n";W.current.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e))},[n,q]),(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(s.Z,{sx:{p:2},children:(0,r.jsxs)(a.Z,{direction:"row",justifyContent:"space-between",spacing:2,sx:{px:1},children:[(0,r.jsx)(i.Z,{defaultValue:"",fullWidth:!0,value:M,onChange:es,placeholder:"Search ".concat(t,"s"),startAdornment:(0,r.jsx)(l.Z,{position:"start",children:(0,r.jsx)(c.Z,{color:"primary",fontSize:"small",children:(0,r.jsx)(y.Z,{})})})}),(0,r.jsxs)(a.Z,{direction:"row",spacing:1,children:[(0,r.jsx)(o.Z,{size:"small",component:"a",ref:W,href:"javascript:void(0)",download:"".concat(t,".csv"),startIcon:(0,r.jsx)(c.Z,{fontSize:"small",children:(0,r.jsx)(w.Z,{})}),variant:"contained",children:"Export"}),(0,r.jsx)(o.Z,{size:"small",onClick:ea,startIcon:(0,r.jsx)(c.Z,{fontSize:"small",children:(0,r.jsx)(P.Z,{})}),variant:"contained",children:"Create"})]})]})}),(0,r.jsx)(C.L,{children:(0,r.jsx)(u.Z,{sx:{minWidth:800},children:(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(h.Z,{children:(0,r.jsxs)(x.Z,{children:[(0,r.jsx)(m.Z,{padding:"checkbox",children:(0,r.jsx)(j.Z,{checked:K,indeterminate:J,onChange:e=>{e.target.checked?en():er()}})}),n.map((e,t)=>{let{label:n}=e;return(0,r.jsx)(m.Z,{children:n},t)}),(0,r.jsx)(m.Z,{align:"right",children:F.length>0?(0,r.jsx)(f.Z,{onClick:el(F),sx:{py:0},children:(0,r.jsx)(c.Z,{color:"error",children:(0,r.jsx)(b.Z,{})})}):"Edit"})]})}),(0,r.jsx)(Z.Z,{children:X.map((e,t)=>{let s=F.includes(e.id);return(0,r.jsxs)(x.Z,{hover:!0,selected:s,children:[(0,r.jsx)(m.Z,{padding:"checkbox",children:(0,r.jsx)(j.Z,{checked:s,onChange:t=>{t.target.checked?ee(e.id):null==et||et(e.id)}})}),n.map((t,n)=>(0,r.jsx)(m.Z,{children:A(e,t)},n)),(0,r.jsx)(m.Z,{align:"right",children:(0,r.jsx)(f.Z,{onClick:ei(e),sx:{py:0},children:(0,r.jsx)(c.Z,{color:"success",children:(0,r.jsx)(k.Z,{})})})})]},t)})})]})})}),(0,r.jsx)(g.Z,{component:"div",page:D,count:H,rowsPerPage:I,onPageChange:$,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:Q})]})}},8444:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(5893),s=n(8482),a=n(6310),i=n(8216),l=n(6886),c=n(5861),o=n(6447),u=n(3321),d=n(8456),h=n(7874),x=n(7294),m=n(5731),j=n(1840),f=n(3872),Z=n(377);function g(e){let{title:t}=e,n=(0,j.TL)(),[g,p]=(0,x.useState)(!1),C=(0,j.CG)(e=>e[t].dialog.open),v=(0,j.CG)(e=>e[t].dialog.item),b=(0,j.CG)(e=>e[t].dialog.method),k=(0,x.useCallback)(()=>{n((0,f.gk)())},[n]),w=(0,x.useCallback)(async(e,r)=>{try{switch(p(!0),b){case"update":await n((0,f.VA)({id:v.id,...e})),(0,Z.yv)("".concat((0,i.Z)(t)," updated!"),{variant:"success"});break;case"create":await n((0,f.nG)(e)),(0,Z.yv)("New ".concat(t," saved!"),{variant:"success"}),r.resetForm()}}catch(e){(0,Z.yv)(e.message,{variant:"error"}),r.setStatus({success:!1}),r.setErrors({submit:e.message}),r.setSubmitting(!1)}finally{p(!1)}},[n,null==v?void 0:v.id,b,t]),P=(0,s.TA)({initialValues:{name:""},validationSchema:a.Ry({name:a.Z_().required("Name is required").max(50)}),onSubmit:w});return(0,x.useEffect)(()=>{"update"===b&&C?P.setValues(v):P.resetForm()},[v]),(0,r.jsx)(m.Z,{open:C,method:b,maxWidth:"md",title:"Measure",onClose:k,children:(0,r.jsxs)("form",{noValidate:!0,onSubmit:P.handleSubmit,children:[(0,r.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(h.Z,{formik:P,name:"name",label:"name"})}),(0,r.jsx)(l.ZP,{item:!0,xs:12,children:P.errors.submit&&(0,r.jsx)(c.Z,{color:"error",sx:{mt:2},variant:"body2",children:P.errors.submit})})]}),(0,r.jsx)(o.Z,{direction:"row",justifyContent:"flex-end",children:(0,r.jsx)(u.Z,{size:"large",sx:{ml:"auto"},type:"submit",variant:"contained",disabled:Object.keys(P.errors).length>0,children:g?(0,r.jsx)(d.Z,{}):"Save"})})]})})}},1669:function(e,t,n){"use strict";n.r(t);var r=n(5893),s=n(9008),a=n.n(s),i=n(8216),l=n(5861),c=n(7066),o=n(4578),u=n(3872),d=n(8444),h=n(7294),x=n(1840),m=n(3870);let j="measure",f=[{label:"Name",value:"name"}],Z=()=>{let e=(0,x.TL)(),t=(0,i.Z)((0,m._)(j));return(0,h.useEffect)(()=>{e((0,u.FB)())},[e]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a(),{children:(0,r.jsxs)("title",{children:[t," | AVCDH GROUP"]})}),(0,r.jsx)(l.Z,{variant:"h4",mb:3,children:t}),(0,r.jsx)(o.Z,{title:j,headers:f,setPage:u.YA,setSearch:u.qP,setRowsPerPage:u.vB,selectAll:u.td,deselectAll:u.kR,selectOne:u.zR,deselectOne:u.Tu,openDialog:u.G3,createData:u.nG,updateData:u.VA,deleteData:u.SR}),(0,r.jsx)(d.default,{title:j})]})};Z.getLayout=e=>(0,r.jsx)(c.A,{children:e}),t.default=Z},1840:function(e,t,n){"use strict";n.d(t,{CG:function(){return a},TL:function(){return s}});var r=n(5007);let s=r.I0,a=r.v9},5941:function(e,t,n){"use strict";function r(e,t,n){return e.slice(t*n,t*n+n)}n.d(t,{i:function(){return r}})},3870:function(e,t,n){"use strict";n.d(t,{_:function(){return s},k:function(){return r}});let r=e=>e[0].toUpperCase()+e.slice(1),s=e=>"y"===e[-1]?"".concat(e.slice(0,-1),"ies"):"".concat(e,"s")}},function(e){e.O(0,[2226,7498,5984,7627,7327,8868,1783,742,9208,3757,6219,7771,6491,9087,8999,7066,9774,2888,179],function(){return e(e.s=1241)}),_N_E=e.O()}]);