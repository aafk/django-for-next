(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4425],{784:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/measure/dialog",function(){return n(8444)}])},5731:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(5893);n(7294);var r=n(2492),i=n(5861),s=n(3870);function o(e){let{children:t,open:n,onClose:o,title:c,method:u,maxWidth:l=!1}=e;return(0,a.jsx)(a.Fragment,{children:n&&(0,a.jsxs)(r.Z,{open:n,onClose:o,fullWidth:!0,maxWidth:l,PaperProps:{sx:{p:{xs:2,lg:5}}},children:[(0,a.jsxs)(i.Z,{variant:"h4",mb:2,children:[(0,s.k)((0,s._)(c))," ","create"===u?"creation":"edition"]}),t]})})}},7874:function(e,t,n){"use strict";var a=n(5893),r=n(8868),i=n(9208),s=n.n(i);t.Z=e=>{let{formik:t,name:n,...i}=e,o=s()(t.touched,n),c=s()(t.errors,n),u=s()(t.values,n);return(0,a.jsx)(r.Z,{...i,fullWidth:!0,name:n,value:u,autoComplete:"off",error:!!(o&&c),helperText:o&&c,onBlur:t.handleBlur,onChange:t.handleChange})}},8444:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var a=n(5893),r=n(8482),i=n(6310),s=n(8216),o=n(6886),c=n(5861),u=n(6447),l=n(3321),d=n(8456),m=n(7874),f=n(7294),p=n(5731),h=n(1840),g=n(3872),y=n(377);function x(e){let{title:t}=e,n=(0,h.TL)(),[x,v]=(0,f.useState)(!1),Z=(0,h.CG)(e=>e[t].dialog.open),b=(0,h.CG)(e=>e[t].dialog.item),w=(0,h.CG)(e=>e[t].dialog.method),j=(0,f.useCallback)(()=>{n((0,g.gk)())},[n]),P=(0,f.useCallback)(async(e,a)=>{try{switch(v(!0),w){case"update":await n((0,g.VA)({id:b.id,...e})),(0,y.yv)("".concat((0,s.Z)(t)," updated!"),{variant:"success"});break;case"create":await n((0,g.nG)(e)),(0,y.yv)("New ".concat(t," saved!"),{variant:"success"}),a.resetForm()}}catch(e){(0,y.yv)(e.message,{variant:"error"}),a.setStatus({success:!1}),a.setErrors({submit:e.message}),a.setSubmitting(!1)}finally{v(!1)}},[n,null==b?void 0:b.id,w,t]),C=(0,r.TA)({initialValues:{name:""},validationSchema:i.Ry({name:i.Z_().required("Name is required").max(50)}),onSubmit:P});return(0,f.useEffect)(()=>{"update"===w&&Z?C.setValues(b):C.resetForm()},[b]),(0,a.jsx)(p.Z,{open:Z,method:w,maxWidth:"md",title:"Measure",onClose:j,children:(0,a.jsxs)("form",{noValidate:!0,onSubmit:C.handleSubmit,children:[(0,a.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(o.ZP,{item:!0,xs:12,children:(0,a.jsx)(m.Z,{formik:C,name:"name",label:"name"})}),(0,a.jsx)(o.ZP,{item:!0,xs:12,children:C.errors.submit&&(0,a.jsx)(c.Z,{color:"error",sx:{mt:2},variant:"body2",children:C.errors.submit})})]}),(0,a.jsx)(u.Z,{direction:"row",justifyContent:"flex-end",children:(0,a.jsx)(l.Z,{size:"large",sx:{ml:"auto"},type:"submit",variant:"contained",disabled:Object.keys(C.errors).length>0,children:x?(0,a.jsx)(d.Z,{}):"Save"})})]})})}},1840:function(e,t,n){"use strict";n.d(t,{CG:function(){return i},TL:function(){return r}});var a=n(5007);let r=a.I0,i=a.v9},3872:function(e,t,n){"use strict";n.d(t,{FB:function(){return Z},G3:function(){return x},SR:function(){return j},Tu:function(){return y},VA:function(){return w},YA:function(){return d},gk:function(){return v},kR:function(){return h},nG:function(){return b},qP:function(){return m},td:function(){return p},vB:function(){return f},zR:function(){return g}});var a=n(3784),r=n(377),i=n(5121);let s=(0,a.oM)({name:"measure",initialState:{items:[],page:0,rowsPerPage:5,selected:[],search:"",dialog:{open:!1}},reducers:{init:(e,t)=>{e.items=t.payload},createItem:(e,t)=>{e.items.push(t.payload),e.dialog={open:!1}},updateItem:(e,t)=>{let n=t.payload.id,a=e.items.findIndex(e=>e.id===n);e.items[a]=t.payload,e.dialog={open:!1}},deleteItem:(e,t)=>{for(let n of t.payload){let t=e.items.findIndex(e=>e.id===n);e.items.splice(t,1)}e.selected=e.selected.filter(e=>!t.payload.includes(e)),e.dialog={open:!1}},setPage:(e,t)=>{e.page=t.payload},setSearch:(e,t)=>{e.page=0,e.selected=[],e.search=t.payload},setRowsPerPage:(e,t)=>{e.page=0,e.rowsPerPage=t.payload},deselectAll:(e,t)=>{e.selected=[]},selectAll:(e,t)=>{e.selected=t.payload},selectOne:(e,t)=>{e.selected.push(t.payload)},deselectOne:(e,t)=>{let n=e.selected.findIndex(e=>e.id===t.payload);e.selected.splice(n,1)},openDialog:(e,t)=>{e.dialog={open:!0,...t.payload}},closeDialog:(e,t)=>{e.dialog={open:!1}}}}),{init:o,createItem:c,updateItem:u,deleteItem:l,setPage:d,setSearch:m,setRowsPerPage:f,selectAll:p,deselectAll:h,selectOne:g,deselectOne:y,openDialog:x,closeDialog:v}=s.actions;function Z(){return async e=>{try{let t=await i.Z.post("/account/measure",{method:"read"});e(o(t.data))}catch(e){(0,r.yv)(e.message,{variant:"error"})}}}function b(e){return async t=>{let{data:n}=await i.Z.post("/account/measure",{method:"create",data:e});t(c(n))}}function w(e){return async t=>{let{data:n}=await i.Z.post("/account/measure",{method:"update",data:e});t(u(n))}}function j(e){return async t=>{await i.Z.post("/account/measure",{method:"delete",data:e}),t(l(e))}}t.ZP=s.reducer},3870:function(e,t,n){"use strict";n.d(t,{_:function(){return r},k:function(){return a}});let a=e=>e[0].toUpperCase()+e.slice(1),r=e=>"y"===e[-1]?"".concat(e.slice(0,-1),"ies"):"".concat(e,"s")}},function(e){e.O(0,[2226,7498,5984,7627,7327,8868,1783,9208,3757,9774,2888,179],function(){return e(e.s=784)}),_N_E=e.O()}]);