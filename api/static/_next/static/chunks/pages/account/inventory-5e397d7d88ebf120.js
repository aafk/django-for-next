(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[980],{9130:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/inventory",function(){return r(6610)}])},5731:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(5893);r(7294);var a=r(2492),s=r(5861),i=r(3870);function l(e){let{children:t,open:r,onClose:l,title:o,method:c,maxWidth:u=!1}=e;return(0,n.jsx)(n.Fragment,{children:r&&(0,n.jsxs)(a.Z,{open:r,onClose:l,fullWidth:!0,maxWidth:u,PaperProps:{sx:{p:{xs:2,lg:5}}},children:[(0,n.jsxs)(s.Z,{variant:"h4",mb:2,children:[(0,i.k)((0,i._)(o))," ","create"===c?"creation":"edition"]}),t]})})}},1507:function(e,t,r){"use strict";r.d(t,{Z:function(){return k}});var n=r(5893),a=r(7294),s=r(8868),i=r(482),l=r(8400),o=r(8396),c=r(5438),u=r(7417),d=r(2734),h=r(948),m=r(1314),x=r(5861),f=r(5121),p=r(9208),Z=r.n(p);function j(e){let{data:t,index:r,style:a}=e,s=t[r],i={...a,top:a.top+8};return s.hasOwnProperty("group")?(0,n.jsx)(c.Z,{component:"div",style:i,children:s.group},s.key):(0,n.jsx)(x.Z,{component:"li",...s[0],noWrap:!0,style:i,children:s[1].label})}let g=a.createContext({}),v=a.forwardRef((e,t)=>{let r=a.useContext(g);return(0,n.jsx)("div",{ref:t,...e,...r})}),b=a.forwardRef(function(e,t){let{children:r,...s}=e,i=[];r.forEach(e=>{i.push(e),i.push(...e.children||[])});let l=(0,d.Z)(),c=(0,o.Z)(l.breakpoints.up("sm"),{noSsr:!0}),u=i.length,h=c?36:48,x=e=>e.hasOwnProperty("group")?48:h,f=function(e){let t=a.useRef(null);return a.useEffect(()=>{null!=t.current&&t.current.resetAfterIndex(0,!0)},[e]),t}(u);return(0,n.jsx)("div",{ref:t,children:(0,n.jsx)(g.Provider,{value:s,children:(0,n.jsx)(m.S_,{width:"100%",ref:f,overscanCount:5,itemData:i,innerElementType:"ul",itemCount:u,outerElementType:v,height:(u>8?8*h:i.map(x).reduce((e,t)=>e+t,0))+16,itemSize:e=>x(i[e]),children:j})})})}),C=(0,h.ZP)(u.Z)({["& .".concat(i.Z.listbox)]:{boxSizing:"border-box","& ul":{margin:0,padding:0}}});function k(e){let{formik:t,name:r,label:i,src:o,groupBy:c}=e,[u,d]=a.useState(!1),[h,m]=a.useState([]),x=Z()(t.touched,r),p=Z()(t.errors,r),j=Z()(t.values,r),g=h.find(e=>e.value===j);return a.useEffect(()=>{!async function(){try{d(!0);let e=await f.Z.get(o);m(e.data.data)}catch(e){console.log(e)}finally{d(!1)}}()},[o]),(0,n.jsx)(l.Z,{fullWidth:!0,disableListWrap:!0,loading:u,options:h,loadingText:"Loading...",PopperComponent:C,ListboxComponent:b,value:g?g.label:"",onChange:(e,n)=>t.setFieldValue(r,null==n?void 0:n.value),onBlur:()=>t.setFieldTouched(r),isOptionEqualToValue:(e,t)=>e.value===t,groupBy:c?e=>e.label[0].toUpperCase():void 0,renderInput:e=>(0,n.jsx)(s.Z,{...e,label:i,error:!!(x&&p),helperText:x&&p}),renderOption:(e,t,r)=>[e,t,r.index],renderGroup:e=>e})}},7250:function(e,t,r){"use strict";var n=r(5893),a=r(8868),s=r(9208),i=r.n(s);t.Z=e=>{let{formik:t,name:r,...s}=e,l=i()(t.touched,r),o=i()(t.errors,r);return(0,n.jsx)(a.Z,{...s,fullWidth:!0,name:r,autoComplete:"off",onBlur:t.handleBlur,onChange:t.handleChange,value:i()(t.values,r),error:!!(l&&o),helperText:l&&o})}},7874:function(e,t,r){"use strict";var n=r(5893),a=r(8868),s=r(9208),i=r.n(s);t.Z=e=>{let{formik:t,name:r,...s}=e,l=i()(t.touched,r),o=i()(t.errors,r),c=i()(t.values,r);return(0,n.jsx)(a.Z,{...s,fullWidth:!0,name:r,value:c,autoComplete:"off",error:!!(l&&o),helperText:l&&o,onBlur:t.handleBlur,onChange:t.handleChange})}},4578:function(e,t,r){"use strict";r.d(t,{Z:function(){return D}});var n=r(5893),a=r(6242),s=r(6447),i=r(7709),l=r(7109),o=r(3219),c=r(3321),u=r(7357),d=r(7906),h=r(3184),m=r(3816),x=r(8102),f=r(9368),p=r(3946),Z=r(295),j=r(3911),g=r(7294),v=r(580),b=r(5941),C=r(5349),k=r(2566),y=r(3557),P=r(670),w=r(9396),_=r(6737),S=r.n(_),q=r(1840),A=(e,t)=>{let{value:r,type:n}=t;return n===Boolean?e[r]?"Yes":"No":e[r]};function D(e){let{title:t="",headers:r=[],setPage:_,setSearch:D,setRowsPerPage:E,selectAll:T,deselectAll:I,selectOne:G,deselectOne:O,openDialog:N,deleteData:R}=e,L=(0,g.useRef)(""),W=(0,q.TL)(),z=(0,q.CG)(e=>e[t].page),B=(0,q.CG)(e=>e[t].selected),V=(0,q.CG)(e=>e[t].search),F=(0,q.CG)(e=>e[t].rowsPerPage),M=(0,q.CG)(e=>e[t].items),U=(0,g.useMemo)(()=>M.filter(e=>r.some(t=>e[t.value].toLowerCase().indexOf(V.toLowerCase())>-1)),[r,M,V]),X=(0,g.useMemo)(()=>(0,b.i)(U,z,F),[U,z,F]),Y=(0,g.useMemo)(()=>U.map(e=>e.id),[U]),H=U.length,J=B.length>0&&B.length<M.length,K=M.length>0&&B.length===M.length,Q=(0,g.useCallback)(e=>{W(E(e.target.value))},[W,E]),$=(0,g.useCallback)((e,t)=>{W(_(t))},[W,_]),ee=(0,g.useCallback)(e=>{W(G(e))},[W,G]),et=(0,g.useCallback)(e=>{W(O(e))},[W,O]),er=(0,g.useCallback)(()=>{W(T(Y))},[W,T,Y]),en=(0,g.useCallback)(()=>{W(I())},[W,I]),ea=(0,g.useCallback)(e=>{W(D(e.target.value))},[W,D]),es=(0,g.useCallback)(()=>{W(N({method:"create"}))},[W,N]),ei=(0,g.useCallback)(e=>()=>{W(N({method:"update",item:e}))},[W,N]),el=(0,g.useCallback)(e=>()=>{S()({title:"Are you sure?",text:"Are you sure that you want to delete this?",icon:"warning",dangerMode:!0}).then(t=>{if(t)return W(R(e));throw""}).catch(e=>{S()("Oops!",e.message,"error")})},[W,R]);return(0,g.useEffect)(function(){let e="";for(let t of M)e+=r.map(e=>{let{value:r}=e;return t[r]}).join(",")+"\r\n";L.current.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e))},[r,M]),(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(a.Z,{sx:{p:2},children:(0,n.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",spacing:2,sx:{px:1},children:[(0,n.jsx)(i.Z,{defaultValue:"",fullWidth:!0,value:V,onChange:ea,placeholder:"Search ".concat(t,"s"),startAdornment:(0,n.jsx)(l.Z,{position:"start",children:(0,n.jsx)(o.Z,{color:"primary",fontSize:"small",children:(0,n.jsx)(w.Z,{})})})}),(0,n.jsxs)(s.Z,{direction:"row",spacing:1,children:[(0,n.jsx)(c.Z,{size:"small",component:"a",ref:L,href:"javascript:void(0)",download:"".concat(t,".csv"),startIcon:(0,n.jsx)(o.Z,{fontSize:"small",children:(0,n.jsx)(y.Z,{})}),variant:"contained",children:"Export"}),(0,n.jsx)(c.Z,{size:"small",onClick:es,startIcon:(0,n.jsx)(o.Z,{fontSize:"small",children:(0,n.jsx)(P.Z,{})}),variant:"contained",children:"Create"})]})]})}),(0,n.jsx)(v.L,{children:(0,n.jsx)(u.Z,{sx:{minWidth:800},children:(0,n.jsxs)(d.Z,{children:[(0,n.jsx)(h.Z,{children:(0,n.jsxs)(m.Z,{children:[(0,n.jsx)(x.Z,{padding:"checkbox",children:(0,n.jsx)(f.Z,{checked:K,indeterminate:J,onChange:e=>{e.target.checked?er():en()}})}),r.map((e,t)=>{let{label:r}=e;return(0,n.jsx)(x.Z,{children:r},t)}),(0,n.jsx)(x.Z,{align:"right",children:B.length>0?(0,n.jsx)(p.Z,{onClick:el(B),sx:{py:0},children:(0,n.jsx)(o.Z,{color:"error",children:(0,n.jsx)(C.Z,{})})}):"Edit"})]})}),(0,n.jsx)(Z.Z,{children:X.map((e,t)=>{let a=B.includes(e.id);return(0,n.jsxs)(m.Z,{hover:!0,selected:a,children:[(0,n.jsx)(x.Z,{padding:"checkbox",children:(0,n.jsx)(f.Z,{checked:a,onChange:t=>{t.target.checked?ee(e.id):null==et||et(e.id)}})}),r.map((t,r)=>(0,n.jsx)(x.Z,{children:A(e,t)},r)),(0,n.jsx)(x.Z,{align:"right",children:(0,n.jsx)(p.Z,{onClick:ei(e),sx:{py:0},children:(0,n.jsx)(o.Z,{color:"success",children:(0,n.jsx)(k.Z,{})})})})]},t)})})]})})}),(0,n.jsx)(j.Z,{component:"div",page:z,count:H,rowsPerPage:F,onPageChange:$,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:Q})]})}},3878:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(5893),a=r(8482),s=r(6310),i=r(8216),l=r(6886),o=r(5861),c=r(6447),u=r(3321),d=r(8456),h=r(7874),m=r(1507),x=r(7250),f=r(7294),p=r(5731),Z=r(1840),j=r(4804),g=r(377);function v(e){let{title:t}=e,r=(0,Z.TL)(),[v,b]=(0,f.useState)(!1),C=(0,Z.CG)(e=>e[t].dialog.open),k=(0,Z.CG)(e=>e[t].dialog.item),y=(0,Z.CG)(e=>e[t].dialog.method),P=(0,f.useCallback)(()=>{r((0,j.gk)())},[r]),w=(0,f.useCallback)(async(e,n)=>{try{switch(b(!0),y){case"update":await r((0,j.VA)({id:k.id,...e})),(0,g.yv)("".concat((0,i.Z)(t)," updated!"),{variant:"success"});break;case"create":await r((0,j.nG)(e)),(0,g.yv)("New ".concat(t," saved!"),{variant:"success"}),n.resetForm()}}catch(e){(0,g.yv)(e.message,{variant:"error"}),n.setStatus({success:!1}),n.setErrors({submit:e.message}),n.setSubmitting(!1)}finally{b(!1)}},[r,null==k?void 0:k.id,y,t]),_=(0,a.TA)({initialValues:{name:"",type:"",accountID:"",customerID:"",measureID:"",avg_price:"",notes:"",detail:""},validationSchema:s.Ry({name:s.Z_().required("Name is required").max(50),type:s.Z_().required("Company is required").max(50),accountID:s.Z_().required("Account is required"),customerID:s.Z_().required("Customer is required"),measureID:s.Z_().required("Measure is required"),avg_price:s.Z_().required("Average price is required").max(50),notes:s.Z_().required("Notes is required").max(50),detail:s.Z_().required("Detail is required").max(50)}),onSubmit:w});return(0,f.useEffect)(()=>{"update"===y&&C?_.setValues(k):_.resetForm()},[k]),(0,n.jsx)(p.Z,{open:C,method:y,title:t,maxWidth:"md",onClose:P,children:(0,n.jsxs)("form",{noValidate:!0,onSubmit:_.handleSubmit,children:[(0,n.jsxs)(l.ZP,{container:!0,spacing:2,children:[(0,n.jsx)(l.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(h.Z,{formik:_,name:"name",label:"Name"})}),(0,n.jsx)(l.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(h.Z,{formik:_,name:"type",label:"Type"})}),(0,n.jsx)(l.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(m.Z,{formik:_,name:"accountID",label:"Account",src:"/account/accounts"})}),(0,n.jsx)(l.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(m.Z,{formik:_,name:"customerID",label:"Customer",src:"/account/customers"})}),(0,n.jsx)(l.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(m.Z,{formik:_,name:"measureID",label:"Measure",src:"/account/measures"})}),(0,n.jsx)(l.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(x.Z,{formik:_,name:"avg_price",label:"Average Price"})}),(0,n.jsx)(l.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(h.Z,{formik:_,name:"notes",label:"Notes",multiline:!0,rows:3})}),(0,n.jsx)(l.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(h.Z,{formik:_,name:"detail",label:"Detail",multiline:!0,rows:3})}),(0,n.jsx)(l.ZP,{item:!0,xs:12,children:_.errors.submit&&(0,n.jsx)(o.Z,{color:"error",sx:{mt:2},variant:"body2",children:_.errors.submit})})]}),(0,n.jsx)(c.Z,{direction:"row",justifyContent:"flex-end",children:(0,n.jsx)(u.Z,{size:"large",sx:{ml:"auto"},type:"submit",variant:"contained",disabled:Object.keys(_.errors).length>0,children:v?(0,n.jsx)(d.Z,{}):"Save"})})]})})}},6610:function(e,t,r){"use strict";r.r(t);var n=r(5893),a=r(9008),s=r.n(a),i=r(8216),l=r(5861),o=r(7066),c=r(4578),u=r(4804),d=r(3878),h=r(7294),m=r(1840),x=r(3870);let f="inventory",p=[{label:"Name",value:"name"},{label:"type",value:"type"},{label:"account",value:"account"},{label:"Customer",value:"customer"},{label:"measure",value:"measure"},{label:"avg_price",value:"avg_price"},{label:"detail",value:"detail"},{label:"notes",value:"notes"}],Z=()=>{let e=(0,m.TL)(),t=(0,i.Z)((0,x._)(f));return(0,h.useEffect)(()=>{e((0,u.FB)())},[e]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s(),{children:(0,n.jsxs)("title",{children:[t," | AVCDH GROUP"]})}),(0,n.jsx)(l.Z,{variant:"h4",mb:3,children:t}),(0,n.jsx)(c.Z,{title:f,headers:p,setPage:u.YA,setSearch:u.qP,setRowsPerPage:u.vB,selectAll:u.td,deselectAll:u.kR,selectOne:u.zR,deselectOne:u.Tu,openDialog:u.G3,createData:u.nG,updateData:u.VA,deleteData:u.SR}),(0,n.jsx)(d.default,{title:f})]})};Z.getLayout=e=>(0,n.jsx)(o.A,{children:e}),t.default=Z},1840:function(e,t,r){"use strict";r.d(t,{CG:function(){return s},TL:function(){return a}});var n=r(5007);let a=n.I0,s=n.v9},5941:function(e,t,r){"use strict";function n(e,t,r){return e.slice(t*r,t*r+r)}r.d(t,{i:function(){return n}})},3870:function(e,t,r){"use strict";r.d(t,{_:function(){return a},k:function(){return n}});let n=e=>e[0].toUpperCase()+e.slice(1),a=e=>"y"===e[-1]?"".concat(e.slice(0,-1),"ies"):"".concat(e,"s")}},function(e){e.O(0,[2226,7498,5984,7627,7327,8868,1783,742,9208,3757,6219,7771,6491,9087,8999,6877,7066,9774,2888,179],function(){return e(e.s=9130)}),_N_E=e.O()}]);